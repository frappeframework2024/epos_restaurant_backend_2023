{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-05-14 09:58:20.217364",
 "css": "\r\n@media print {\r\n    .print-format{\r\n    padding: 1px !important;\r\n    }\r\n    \r\n}\r\n\r\n \r\n.report-list {\r\n    margin-top: 10px !important;\r\n    margin-bottom: 5px !important;\r\n}\r\n.print-format{\r\n    padding: 2px !important;\r\n}\r\n.print-format td{\r\n    padding: 4px !important;\r\n    border: none !important;\r\n  \r\n}\r\n.report-list td,.report-list th {\r\n    padding: 3px !important;\r\n    font-size: 13px !important;\r\n    \r\n}\r\n.tbl-list tr td {\r\n    padding: 4px 0px !important;\r\n    font-size: 10px !important;\r\n    border: none !important;\r\n}\r\n.tbl-list tr td:nth-child(2){\r\n    padding-left: 1px !important;\r\n    padding-right: 1px !important;\r\n    \r\n}\r\n.tbl-list-right tr td:nth-child(3){\r\n    text-align: right;\r\n}\r\n\r\n.report-list thead tr th {\r\n    color: #000;\r\n    font-weight: 600;\r\n    padding-top: 4px !important;\r\n    padding-bottom: 4px !important;\r\nborder-bottom: solid 1px black!important;\r\n \r\n}\r\n\r\n.tbl-list-summary{\r\n    margin-top:10px;\r\n}\r\n.tbl-list-summary td{\r\n    font-size: 12px;\r\n    padding:0px;\r\n}\r\n.summary-value{\r\n    text-align:right;\r\n}\r\n.payment p{\r\n    font-size: 10px;\r\n}\r\n.center {\r\n  text-align: center;\r\n  margin-top: 20px !important;\r\n}\r\n.print-format .row:not(.section-break){\r\n    margin-top:0px!important;\r\n}\r\n.tbl-list-summary tr td:nth-child(2){\r\n  text-align:right!important;\r\n}\r\n.grand_total{\r\nfont-weight:bold; font-size:13px; margin-top:0px; border:solid 2px #000000;\r\n\r\n}\r\n.grand_total tr td:nth-child(2){\r\n text-align:right!important;\r\n\r\n}\r\n.table-bill-header tr td{\r\n    margin:0px!important;\r\n    padding:0px!important;\r\n    font-size:13px;\r\n}\r\n*{\r\n    color:#000000!important;\r\n}",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Tax Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 3,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"{%\\n    set sale = frappe.get_doc(\\\"Sale\\\",doc.document_name)\\n%}\\n{% set date_format = frappe.db.sql(\\\"select TIME_FORMAT(creation, '%H:%i %p') as ptime,TIME_FORMAT(modified, '%H:%i %p') as ctime from `tabSale` where name='{}'\\\".format(sale.name),as_dict=1) %}\\n{% if sale.docstatus == 1 %}\\n    <h3 class=\\\"text-center\\\">INVOICE</h3>\\n{% else %}\\n    <h3 class=\\\"text-center\\\">DRAFT ITEM</h3>\\n{% endif%}\\n\\n<table style=\\\"width:100%\\\" class=\\\"table-bill-header\\\">\\n    <tr>\\n        <td>{{_(\\\"Date\\\")}}: {{frappe.format_value(sale.posting_date,\\\"Date\\\")}}</td>\\n        <td class=\\\"text-right\\\" style=\\\"white-space:nowrap\\\">{{_(\\\"Invoice No\\\")}}: {{sale.name}}</td>\\n    </tr>\\n    <tr>\\n        <td style=\\\"white-space:nowrap\\\">{{_(\\\"Customer\\\")}}: {{sale.customer_name}}</td>\\n        <td class=\\\"text-right\\\">{{_(\\\"Table No\\\")}}: {{sale.tbl_number}}</td>\\n    </tr>\\n    {% if docstatus == 0 %}\\n    <tr>\\n        <td>{{_(\\\"Opened\\\")}}: {{date_format[0].ptime}}</td>\\n        <td class=\\\"text-right\\\" style=\\\"white-space:nowrap\\\">{{_(\\\"Cashier\\\")}}: {{sale.created_by}}</td>\\n    </tr>\\n    {% else %}\\n    <tr>\\n        <td>{{_(\\\"Opened\\\")}}: {{date_format[0].ptime}}</td>\\n        <td class=\\\"text-right\\\" style=\\\"white-space:nowrap\\\">{{_(\\\"Closed\\\")}}: {{date_format[0].ctime}}</td>\\n    </tr>\\n    <tr>\\n        <td>{{_(\\\"Cashier\\\")}}: {{sale.closed_by}}</td>\\n    </tr>\\n    {%endif%}\\n    {% if sale.note %}\\n    <tr>\\n        <td colspan=\\\"2\\\">{{_(\\\"Note\\\")}}: {{sale.note}}</td>\\n        \\n    </tr>\\n    {% endif %}\\n    \\n    \\n    \\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{%\\r\\n    set sale = frappe.get_doc(\\\"Sale\\\",doc.document_name)\\r\\n%}\\r\\n{% \\r\\n    set sale_transactions = frappe.db.sql(\\\"\\r\\n    select \\r\\n    p.product_code,\\r\\n    sum(p.quantity) as qty, \\r\\n    p.price,\\r\\n    p.discount,\\r\\n    p.discount_amount,\\r\\n    p.note,\\r\\n    concat(p.product_name,if(coalesce(p.portion,'')='','',concat('( ', p.portion, ' )')),\\r\\n    if(coalesce(p.modifiers,'')='','',concat(' - ', p.modifiers)),\\r\\n    if(p.is_free=1,' -Free',''))\\r\\n    as product_name,\\r\\n    if(p.discount_type = 'Amount','','%') as discount_type,\\r\\n    sum(p.sub_total) as amount,\\r\\n    s.customer_name \\r\\n    from `tabSale Product` p \\r\\n    inner join\\r\\n        `tabSale` s on s.name = p.parent \\r\\n    where \\r\\n        s.name = '{}' \\r\\n    group by \\r\\n    p.product_name,\\r\\n    p.price,\\r\\n    p.portion,\\r\\n    p.modifiers,\\r\\n    p.discount,\\r\\n    p.discount_amount,\\r\\n    p.note,\\r\\n    p.discount_type\\r\\n    \\\".format(sale.name),as_dict=1)%}\\r\\n    \\r\\n{%set main_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"currency\\\"))%}\\r\\n{%set second_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"second_currency\\\"))%}\\r\\n\\r\\n<table class=\\\"table report-list\\\">\\r\\n    <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"text-left\\\">{{_(\\\"DESCRIPTION\\\")}}</th>\\r\\n            <th class=\\\"text-left\\\">{{_(\\\"QTY\\\")}}</th>\\r\\n            <th class=\\\"text-right\\\">{{_(\\\"PRICE\\\")}}</th>\\r\\n            <th class=\\\"text-right\\\">{{_(\\\"AMOUNT\\\")}}</th>\\r\\n        </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n        {% for p in sale_transactions %}\\r\\n        <tr>\\r\\n            <td class=\\\"text-left\\\">{{p.product_code}} - {{p.product_name}}</td>\\r\\n            <td class=\\\"text-left\\\">{{p.qty}}</td>\\r\\n            <td class=\\\"text-right\\\" style=\\\"white-space: nowrap;\\\">{{ frappe.utils.fmt_money(p.price,currency=main_currency.name, precision=main_currency.custom_currency_precision) }}</td>\\r\\n            <td class=\\\"text-right\\\" style=\\\"white-space: nowrap;\\\">{{frappe.utils.fmt_money(p.amount - p.discount_amount,currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n            {% if p.discount > 0 %}\\r\\n                <tr>\\r\\n                    <td colspin='4'>{{_(\\\"Disc. \\\")}}( {{p.discount}} {{p.discount_type}}) : {{p.discount_amount}}</td>\\r\\n                </tr>\\r\\n            {%endif%}\\r\\n            {% if p.note != '' %}\\r\\n                <tr>\\r\\n                    <td colspin='4'>{{_(\\\"Note: \\\")}}{{p.note}}</td>\\r\\n                </tr>\\r\\n            {%endif%}\\r\\n        \\r\\n        {% endfor %}\\r\\n    </tbody>\\r\\n</table>\\r\\n<div style=\\\"border-bottom: 1px solid #000000; margin-top: 12px\\\"></div>\\r\\n         \\r\\n     \"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{%\\r\\n    set sale = frappe.get_doc(\\\"Sale\\\",doc.document_name)\\r\\n%}\\r\\n\\r\\n{%set main_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"currency\\\"))%}\\r\\n{%set second_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"second_currency\\\"))%}\\r\\n<div class=\\\"tbl-list-summary\\\" style=\\\"margin-top:5px\\\">\\r\\n    <table class=\\\"ml-auto\\\">\\r\\n        {% if sale.sub_total != sale.grand_total %}\\r\\n        <tr>\\r\\n                <td style=\\\"width:150px\\\">{{_(\\\"Sub Total\\\")}}</td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.sub_total, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        {% if sale.product_discount>0 %}\\r\\n        <tr>\\r\\n                <td>{{_(\\\"Item Discount\\\")}}</td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.product_discount, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        {% if sale.sale_discount>0 %}\\r\\n        <tr>\\r\\n                <td>\\r\\n                    {{_(\\\"Sale Discount\\\")}} \\r\\n                    {% if sale.discount_type == \\\"Percent\\\"%}\\r\\n                        ({{sale.discount}} %) \\r\\n                    {% endif %}\\r\\n                </td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.sale_discount, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        {% if sale.product_discount>0 and sale.sale_discount >0 %}\\r\\n        <tr>\\r\\n                <td>{{_(\\\"Total Discount\\\")}}</td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.total_discount, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        \\r\\n        \\r\\n        {% if sale.tax_1_amount > 0 %}\\r\\n        <tr>\\r\\n                <td>{{_(\\\"Tax 1\\\")}}</td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.tax_1_amount, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        \\r\\n        {% if sale.tax_2_amount > 0 %}\\r\\n        <tr>\\r\\n                <td>{{_(\\\"Tax 2\\\")}}</td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.tax_2_amount, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        \\r\\n        {% if sale.tax_3_amount > 0 %}\\r\\n        <tr>\\r\\n                <td>{{_(\\\"Tax 3\\\")}}</td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.tax_3_amount, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        \\r\\n        {% if (1 if sale.tax_1_amount> 0 else 0) + (1 if sale.tax_2_amount> 0 else 0)  + (1 if sale.tax_3_amount> 0 else 0)  >=2  %}\\r\\n        <tr>\\r\\n                <td>{{_(\\\"Total Tax\\\")}}</td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.total_tax, currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        \\r\\n        \\r\\n        \\r\\n    </table>\\r\\n</div>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{%\\r\\n    set sale = frappe.get_doc(\\\"Sale\\\",doc.document_name)\\r\\n%}\\r\\n{%set main_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"currency\\\"))%}\\r\\n{%set second_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"second_currency\\\"))%}\\r\\n\\r\\n<div class=\\\"grand_total\\\" >\\r\\n    <table class=\\\"ml-auto\\\" style=\\\"margin-top:0px\\\">\\r\\n       \\r\\n        <tr>\\r\\n               <td style=\\\"width:138px\\\">{{_(\\\"Grand Total\\\")}}({{main_currency.name}}) </td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.grand_total,currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n           <tr>\\r\\n                <td>{{_(\\\"Grand Total\\\")}}({{second_currency.name}}) </td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.grand_total * sale.exchange_rate,currency=second_currency.name, precision=second_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        \\r\\n        \\r\\n    </table>\\r\\n</div>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{%\\r\\n    set sale = frappe.get_doc(\\\"Sale\\\",doc.document_name)\\r\\n%}\\r\\n{%set main_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"currency\\\"))%}\\r\\n{%set second_currency = frappe.get_doc(\\\"Currency\\\",frappe.db.get_default(\\\"second_currency\\\"))%}\\r\\n\\r\\n<div class=\\\"tbl-list-summary\\\" style=\\\"margin-top:5px\\\">\\r\\n    <table class=\\\"ml-auto\\\">\\r\\n        \\r\\n        {% for p in sale.payment %}\\r\\n       {%set curr_precision = frappe.get_doc(\\\"Currency\\\",p.currency)%}\\r\\n        <tr>\\r\\n                <td style=\\\"width:220px\\\">{{p.payment_type}} {{'({})'.format(p.room_number) if p.room_number else \\\"\\\"}}\\r\\n                {%if(p.fee_amount > 0) %}\\r\\n                    <span>(+Fee: {{frappe.utils.fmt_money(p.fee_amount, currency=main_currency.name, precision=main_currency.custom_currency_precision)}})</span>\\r\\n                {% endif %}\\r\\n                </td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(p.input_amount + (p.fee_amount * p.exchange_rate), currency=curr_precision.currency,precision=curr_precision.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endfor %}\\r\\n        {% if (sale.payment | length) > 1 %}\\r\\n         <tr>\\r\\n            <td>{{_(\\\"Total Paid\\\")}}</td>\\r\\n            <td>{{frappe.format_value(sale.total_paid_with_fee, \\\"Currency\\\")}}</td>\\r\\n        </tr>\\r\\n        \\r\\n        {% endif %}\\r\\n        \\r\\n        {% if sale.balance > 0 and sale.docstatus==1 %}\\r\\n             <tr>\\r\\n                <td>{{_(\\\"Balance\\\")}}({{main_currency.name}}) </td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.balance,currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n           <tr>\\r\\n                <td>{{_(\\\"Balance\\\")}}({{second_currency.name}}) </td>\\r\\n              \\r\\n                <td>{{frappe.utils.fmt_money(sale.balance * sale.exchange_rate,currency=second_currency.name, precision=second_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        \\r\\n        {% if sale.changed_amount > 0 %}\\r\\n             <tr>\\r\\n                <td>{{_(\\\"Changed\\\")}}({{main_currency.name}}) </td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.changed_amount,currency=main_currency.name, precision=main_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n           <tr>\\r\\n                <td>{{_(\\\"Changed\\\")}}({{second_currency.name}}) </td>\\r\\n                \\r\\n                <td>{{frappe.utils.fmt_money(sale.changed_amount * sale.exchange_rate,currency=second_currency.name, precision=second_currency.custom_currency_precision)}}</td>\\r\\n        </tr>\\r\\n        {% endif %}\\r\\n        \\r\\n        \\r\\n    </table>\\r\\n</div>\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2024-05-14 09:58:20.217364",
 "modified_by": "Administrator",
 "module": "Account",
 "name": "Commercial Tax Invoice A4",
 "owner": "Administrator",
 "page_number": "Bottom Center",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}